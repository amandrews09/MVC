{{!-- Use the main layout --}}
{{> header}}

<h1>Your Dashboard</h1>

<h2>Your Posts</h2>
{{#if posts.length}}
  <div class="post-container">
    {{#each posts}}
      <div class="post">
        <h3>{{this.title}}</h3>
        <p>{{this.content}}</p>
        <p>Posted on {{format_date this.createdAt}}</p>
        <button class="edit-btn" data-id="{{this.id}}">Edit</button>
        <button class="delete-btn" data-id="{{this.id}}">Delete</button>
      </div>
    {{/each}}
  </div>
{{else}}
  <p>You have no posts yet.</p>
{{/if}}

<h2>Create a New Post</h2>
<div class="create-post-container">
  <form id="new-post-form">
    <div class="form-group">
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" required>
    </div>
    <div class="form-group">
      <label for="content">Content:</label>
      <textarea id="content" name="content" rows="4" required></textarea>
    </div>
    <button type="submit">Create Post</button>
  </form>
</div>

<script src="/js/dashboard.js"></script>
